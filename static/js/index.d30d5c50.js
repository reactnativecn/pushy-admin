(()=>{"use strict";var e,t,r,a,n,l,i,s,o={2437:function(e,t,r){r.d(t,{A:()=>o});var a=r(4848),n=r(4869),l=r(7551),i=r(6096),s=r(6262);function o(e){let{platform:t,className:r}=e;return t?"android"===t?(0,a.jsx)(l.A,{className:(0,n.cn)("text-[#3ddc84]!",r)}):"ios"===t?(0,a.jsx)(i.A,{className:(0,n.cn)("text-[#a6b1b7]!",r)}):(0,a.jsx)(s.A,{className:(0,n.cn)("text-[#a6b1b7]!",r)}):null}},7280:function(e,t,r){r.d(t,{c:()=>n,g:()=>a});let a="https://pushy.reactnative.cn/pricing.html",n="https://pushy.reactnative.cn/docs/bestpractice#%E6%B5%8B%E8%AF%95%E4%B8%8E%E5%9B%9E%E6%BB%9A"},6664:function(e,t,r){r.d(t,{a:()=>a});let a={free:{title:"免费版",app:3,package:30,packageSize:"30m",bundle:30,bundleSize:"3m",pv:1e3},standard:{title:"标准版",app:5,package:50,packageSize:"150m",bundle:50,bundleSize:"15m",pv:1e4},premium:{title:"高级版",app:10,package:60,packageSize:"500m",bundle:60,bundleSize:"50m",pv:1e5},pro:{title:"专业版",app:50,package:100,packageSize:"2000m",bundle:100,bundleSize:"200m",pv:1e6},vip1:{title:"大客户VIP1",app:50,package:100,packageSize:"2000m",bundle:100,bundleSize:"200m",pv:1e7},vip2:{title:"大客户VIP2",app:50,package:100,packageSize:"2000m",bundle:100,bundleSize:"200m",pv:5e7},vip3:{title:"大客户VIP3",app:50,package:100,packageSize:"2000m",bundle:100,bundleSize:"200m",pv:1e8}}},9620:function(e,t,r){var a=r(4848);r(6);var n=r(5180),l=r(2187),i=r(5338),s=r(6416),o=r(4281),c=r(3909),d=r(4526);let u=document.getElementById("main");u&&(0,i.createRoot)(u).render((0,a.jsx)(n.Ay,{locale:l.default,children:(0,a.jsx)(o.Ht,{client:d.q,children:(0,a.jsx)(s.p,{router:c.QB})})}))},3909:function(e,t,r){r.d(t,{QB:()=>U,DQ:()=>H});var a=r(4848),n=r(3593),l=r(6700),i=r(781),s=r(6677),o=r(6540),c=r(7247),d=r(7308),u=r(464),p=r(5539),h=r(8598),m=r(339),f=r(7152),g=r(3312),v=r(9312),y=r(1016),x=r(5625),j=r(192);let b=()=>(0,a.jsxs)(m.A.Footer,{className:"text-center",children:[(0,a.jsxs)(j.A.Paragraph,{type:"secondary",children:["React Native 中文网 \xa9 ",new Date().getFullYear()," 武汉青罗网络科技有限公司"]}),(0,a.jsxs)(j.A.Paragraph,{className:"flex items-center justify-center",children:[(0,a.jsx)("a",{href:"http://beian.miit.gov.cn/",children:"鄂ICP备20002031号-3"}),(0,a.jsx)("img",{className:"h-6 my-0 mx-1",src:"https://img.alicdn.com/tfs/TB1..50QpXXXXX7XpXXXXXXXXXX-40-40.png",alt:"鄂公网安备 42011202001821号"}),(0,a.jsx)("a",{href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=42011202001821",children:"鄂公网安备 42011202001821号"})]})]});var A=r(7280),q=r(6664),k=r(8388),w=r(8244),S=r(8940),N=r(5207),E=r(8657),P=r(8129),$=r(9100),z=r(2029),O=r(9538),Q=r(6248),F=r(5332);let C=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 450 110",...e,children:[(0,a.jsx)("defs",{children:(0,a.jsx)("path",{id:"logo-h_svg__a",d:"M0 .19h251.999v38.75H0z"})}),(0,a.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,a.jsx)("path",{fill:"#4483ED",d:"M145.25 48.773q0 16.852-11.954 28.783Q121.33 89.5 104.476 89.5q-9.136 0-17.037-3.742-7.888-3.731-13.503-10.073-4.54 5.118-10.187 8.328v-35.24q0-16.852 11.92-28.818Q87.59 8 104.477 8q16.852 0 28.819 11.955Q145.25 31.92 145.25 48.773m-61.115 0q0 8.443 5.95 14.392 5.947 5.948 14.392 5.948 8.408 0 14.404-5.948 5.982-5.948 5.982-14.392 0-8.408-5.982-14.404-5.996-5.983-14.404-5.983-8.445 0-14.393 5.983-5.949 5.996-5.949 14.404"}),(0,a.jsx)("path",{fill:"#4483ED",d:"M19.675 25.524H16.71q-1.347 0-2.291-.943-.943-.943-.943-2.291t.943-2.291a3.12 3.12 0 0 1 2.291-.943h2.965q2.425-.105 4.177-1.916 1.752-1.805 1.752-4.283t-1.752-4.282Q22.1 6.764 19.675 6.659H16.71a3.12 3.12 0 0 1-2.291-.944q-.943-.943-.943-2.29 0-1.348.943-2.291A3.12 3.12 0 0 1 16.71.19h2.965q5.12.105 8.759 3.803 3.639 3.692 3.639 8.864 0 5.226-3.639 8.894t-8.759 3.773M0 35.766V3.425q0-1.348.943-2.291A3.12 3.12 0 0 1 3.234.19q1.348 0 2.291.944.943.943.943 2.291v32.341q0 1.347-.943 2.291A3.12 3.12 0 0 1 3.234 39a3.12 3.12 0 0 1-2.291-.943Q0 37.113 0 35.766M57.407 3.425v17.518q0 3.287 1.647 6.011a11.55 11.55 0 0 0 4.387 4.23q1.513.704 2.052 2.021.538 1.318-.105 2.456-.599 1.235-1.812 1.669-1.212.427-2.448-.112-4.582-2.208-7.389-6.603-2.8-4.387-2.8-9.672V3.425q0-1.348.943-2.291A3.12 3.12 0 0 1 54.173.19a3.12 3.12 0 0 1 2.291.944q.943.943.943 2.291m23.179 17.518V3.425q0-1.348.943-2.291A3.12 3.12 0 0 1 83.82.19a3.12 3.12 0 0 1 2.291.944q.943.943.943 2.291v17.518q0 5.285-2.777 9.65-2.778 4.363-7.36 6.573-1.347.591-2.53.164-1.184-.434-1.782-1.669-.592-1.243-.052-2.538t1.886-1.939q2.808-1.4 4.477-4.147 1.67-2.755 1.67-6.094m45.279 13.962q0-1.19.756-2.074a3.2 3.2 0 0 1 1.886-1.108q3.826-1.13 3.826-4.043 0-4.851-9.972-4.851-7.494 0-11.964-2.86-4.477-2.852-4.477-8.459 0-3.609 2.239-6.229 2.239-2.613 6.169-3.96.861-.27 1.295-.27a3.12 3.12 0 0 1 2.291.944q.943.942.943 2.29 0 2.156-2.695 3.182-3.773 1.243-3.773 4.043 0 4.851 9.972 4.851 7.494 0 11.964 2.86 4.476 2.852 4.477 8.459 0 3.669-2.239 6.282t-6.221 3.96q-.165.052-1.243.217-1.347 0-2.291-.943-.943-.944-.943-2.291m-15.58-4.425a35.5 35.5 0 0 0 5.555 1.617q1.295.27 2.156 1.161.861.89.861 2.074 0 1.348-.943 2.29a3.12 3.12 0 0 1-2.291.944l-.809-.105q-4.147-.756-6.633-1.834-1.235-.427-1.856-1.7-.622-1.265-.135-2.5.539-1.348 1.699-1.864 1.161-.51 2.396-.083m15.58-26.352q0-1.347.943-2.291a3.12 3.12 0 0 1 2.291-.943q.053 0 1.026.157 2.209.487 4.798 1.565 1.348.591 1.91 1.722.568 1.138.082 2.373-1.13 2.86-4.043 1.999-1.834-.756-4.417-1.408a3.34 3.34 0 0 1-1.864-1.152 3.1 3.1 0 0 1-.726-2.022m61.989 31.638V22.829h-12.937q-1.347 0-2.291-.943-.943-.943-.943-2.291t.943-2.291 2.291-.943h12.937V3.425q0-1.348.943-2.291a3.12 3.12 0 0 1 2.291-.944 3.12 3.12 0 0 1 2.291.944q.943.943.943 2.291v32.341q0 1.347-.943 2.291a3.12 3.12 0 0 1-2.291.943 3.12 3.12 0 0 1-2.291-.943q-.943-.944-.943-2.291m-29.647 0V3.425q0-1.348.943-2.291a3.12 3.12 0 0 1 2.291-.944 3.12 3.12 0 0 1 2.291.944q.943.943.943 2.291v32.341q0 1.347-.943 2.291a3.12 3.12 0 0 1-2.291.943 3.12 3.12 0 0 1-2.291-.943q-.943-.944-.943-2.291m71.152 0V19.595q0-1.348 1.079-2.425l16.006-16.006q.973-.974 2.321-.974a3.12 3.12 0 0 1 2.291.944q.943.943.943 2.291t-.973 2.32l-15.198 15.198v14.823q0 1.347-.943 2.291a3.12 3.12 0 0 1-2.291.943 3.12 3.12 0 0 1-2.291-.943 3.12 3.12 0 0 1-.944-2.291M213.188 3.425q0-1.348.944-2.291a3.12 3.12 0 0 1 2.291-.944q1.242 0 2.261.914l6.528 6.528q.913 1.018.913 2.261 0 1.347-.943 2.291a3.12 3.12 0 0 1-2.291.943q-1.4 0-2.321-.913l-6.468-6.469q-.914-.92-.914-2.32",mask:"url(#logo-h_svg__mask-2)",transform:"matrix(.75 0 0 .75 175 38)"})]})]});var _=r(2437);function D(){let e="",t="android";N.A.confirm({icon:null,closable:!0,maskClosable:!0,content:(0,a.jsxs)(E.A,{initialValues:{platform:t},children:[(0,a.jsx)("br",{}),(0,a.jsx)(E.A.Item,{label:"应用名称",name:"name",children:(0,a.jsx)(P.A,{placeholder:"请输入应用名称",onChange:t=>{let{target:r}=t;return e=r.value}})}),(0,a.jsx)(E.A.Item,{label:"选择平台",name:"platform",children:(0,a.jsx)($.A,{onSelect:e=>{t=e},options:[{value:"android",label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_.A,{platform:"android",className:"mr-2"})," Android"]})},{value:"ios",label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_.A,{platform:"ios",className:"mr-2"})," iOS"]})},{value:"harmony",label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_.A,{platform:"harmony",className:"mr-[10px]"}),"HarmonyOS"]})}]})})]}),onOk:()=>e?k.F.createApp({name:e,platform:t}).catch(e=>{v.Ay.error(e.message)}):(v.Ay.warning("请输入应用名称"),!1)})}function I(){var e;let{pathname:t}=(0,l.zy)(),{user:r}=(0,x.Py)();if(!r)return null;let n=null==t||null==(e=t.replace(/^\//,""))?void 0:e.split("/"),i=n;return(null==i?void 0:i.length)===0&&(i="/"===t?["/user"]:n),(0,a.jsxs)(m.A.Sider,{width:240,theme:"light",style:L.sider,children:[(0,a.jsx)(m.A.Header,{className:"flex justify-center items-center bg-transparent! px-0!",children:(0,a.jsx)(C,{})}),(0,a.jsx)(B,{selectedKeys:i})]})}let B=e=>{var t;let{selectedKeys:r}=e,{user:n,displayExpireDay:i,displayRemainingDays:s}=(0,x.Py)(),{apps:o}=(0,x.vu)(),c=q.a[null==n?void 0:n.tier],d=null==c?void 0:c.pv,u=null==n?void 0:n.checkQuota,h=d&&u?u/d*100:void 0;return(0,a.jsxs)("div",{children:[h&&(0,a.jsxs)(z.A,{title:(0,a.jsxs)("div",{className:"text-center py-1",children:[(0,a.jsx)("span",{className:"",children:null==n?void 0:n.email}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"font-normal",children:"今日剩余总查询热更次数"})]}),size:"small",className:"mr-2! mb-4!",children:[(0,a.jsx)(O.A,{status:h&&h>40?"normal":"exception",size:["100%",30],percent:h,percentPosition:{type:"inner",align:"center"},format:()=>u?`${u.toLocaleString()} 次`:""}),(0,a.jsxs)("div",{className:"text-xs mt-2 text-center",children:["7日平均剩余次数：",null==n||null==(t=n.last7dAvg)?void 0:t.toLocaleString()," 次"]}),(0,a.jsxs)("div",{className:"text-xs mt-2 text-center",children:[(0,a.jsx)("a",{target:"_blank",href:A.g,rel:"noreferrer",children:null==c?void 0:c.title}),"可用: ",null==d?void 0:d.toLocaleString()," 次/每日"]})," ",(null==n?void 0:n.tier)!=="free"&&(0,a.jsxs)("div",{className:"text-xs mt-2 text-center",children:["有效期至：",i,s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("br",{}),(0,a.jsx)("div",{children:s})]})]})]}),(0,a.jsx)(g.A,{defaultOpenKeys:["apps"],selectedKeys:r,mode:"inline",items:[{key:"user",icon:(0,a.jsx)(p.A,{}),label:(0,a.jsx)(l.N_,{to:H.user,children:"账户设置"})},{key:"apps",icon:(0,a.jsx)(w.A,{}),label:"应用管理",children:[...(null==o?void 0:o.map(e=>({key:e.id,className:"!h-16",label:(0,a.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[(0,a.jsx)("div",{className:"flex flex-col justify-center",children:(0,a.jsx)(_.A,{platform:e.platform,className:"!text-xl"})}),(0,a.jsxs)(l.N_,{to:`/apps/${e.id}`,className:"flex flex-col h-16 justify-center",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center font-bold",children:[e.name,"paused"===e.status&&(0,a.jsx)(Q.A,{className:"ml-2",children:"暂停"})]}),e.checkCount&&(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:(0,a.jsx)(F.A,{mouseEnterDelay:1,title:"今日此应用查询热更的次数",children:(0,a.jsxs)("a",{children:[e.checkCount.toLocaleString()," 次"]})})})]})]})})))||[],{key:"add-app",icon:(0,a.jsx)(S.A,{}),label:"添加应用",onClick:D}]}]})]})},L={sider:{boxShadow:"2px 0 8px 0 rgb(29 35 41 / 5%)",zIndex:2}},T=e=>{let{children:t,href:r}=e;return(0,a.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",children:t})},V={background:"#fff",height:48,lineHeight:"46px",boxShadow:"2px 1px 4px rgba(0, 21, 41, 0.08)",zIndex:1},X={overflow:"auto",position:"relative",display:"flex",flexDirection:"column",paddingBottom:0};var K=r(9913);let{confirm:M}=N.A;Object.entries({"v8-deprecation":{title:"通知：react-native-update 即将停止支持 v8 以下版本",content:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:["从",(0,a.jsx)("span",{style:{color:"#f50"},children:"2025年8月10日"}),"起低于 v8 版本的基准包和热更包将无法上传，请尽快升级到 v8 及以上版本。已上传的版本不受影响。"]}),(0,a.jsx)("p",{children:"跨大版本更新时需要重新打原生包，并请充分测试。"}),(0,a.jsx)("p",{children:"v5 - v9 版本代码基本兼容，v10 版本代码与之前版本不兼容。"}),(0,a.jsx)("p",{children:"升级相关的技术问题，请在 QQ 群 729013783 中咨询技术支持。"})]}),okText:"我知道了",cancelText:"不再显示",onCancel:()=>{localStorage.setItem("v8-deprecation","1")}}}).forEach(e=>{let[t,r]=e;localStorage.getItem(t)||M(r)});let H={user:"/user",apps:"/apps",versions:e=>`/apps/${e}`,resetPassword:e=>`/reset-password/${e}`,activate:"/activate",inactivated:"/inactivated",login:"/login",welcome:"/welcome",register:"/register"},R=e=>{let{request:t}=e;if(!(0,K.gf)()){let{pathname:e,search:r}=new URL(t.url);return e===H.login?null:"/"===e?(0,l.V2)(H.login):(0,l.V2)(`${H.login}?loginFrom=${encodeURIComponent(e+r)}`)}return null},U=(0,l.Ge)([{path:"/",element:(0,a.jsx)(()=>{let{user:e}=(0,x.Py)();return(0,a.jsxs)(m.A,{children:[(0,a.jsx)(I,{}),(0,a.jsxs)(m.A,{children:[(0,a.jsx)(m.A.Header,{style:V,children:(0,a.jsx)(f.A,{className:"h-full",justify:"end",children:(0,a.jsx)(g.A,{mode:"horizontal",selectable:!1,items:[{key:"issues",icon:(0,a.jsx)(c.A,{}),label:(0,a.jsx)(T,{href:"https://github.com/reactnativecn/react-native-pushy/issues",children:"讨论"})},{key:"document",icon:(0,a.jsx)(d.A,{}),label:(0,a.jsx)(T,{href:"https://pushy.reactnative.cn/docs/getting-started.html",children:"文档"})},{key:"about",icon:(0,a.jsx)(u.A,{}),label:(0,a.jsx)(T,{href:"https://reactnative.cn/about.html",children:"关于我们"})},...e?[{key:"user",icon:(0,a.jsx)(p.A,{}),label:e.name,children:[{key:"logout",icon:(0,a.jsx)(h.A,{}),label:"退出登录",onClick:()=>{(0,y.ri)(),v.Ay.info("您已退出登录")}}]}]:[]]})})}),(0,a.jsxs)(m.A.Content,{id:"main-body",style:X,children:[(0,a.jsx)("div",{className:"h-full",children:(0,a.jsx)(l.sv,{})}),(0,a.jsx)(b,{})]})]})]})},{}),errorElement:(0,a.jsx)(function(){var e,t,r;let n=(0,l.r5)(),c=(0,l.Zp)(),d=(null==n||null==(e=n.message)?void 0:e.includes("Loading CSS chunk"))||(null==n||null==(t=n.message)?void 0:t.includes("Loading chunk"))||(null==n||null==(r=n.message)?void 0:r.includes("ChunkLoadError"));return(0,o.useEffect)(()=>{d&&window.location.reload()},[d]),(0,a.jsx)(i.Ay,{status:"500",title:"页面出错了",subTitle:(null==n?void 0:n.message)||"发生了未知错误",extra:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Ay,{type:"primary",onClick:()=>{c(-1)},children:"重试"}),(0,a.jsx)(s.Ay,{onClick:()=>{c("/")},children:"返回首页"})]})})},{}),children:[{path:"",element:(0,a.jsx)(l.C5,{to:H.user})},{path:"welcome",lazy:()=>r.e("653").then(r.bind(r,2500))},{path:"reset-password/:step",lazy:()=>Promise.all([r.e("678"),r.e("392")]).then(r.bind(r,19))},{path:"activate",lazy:()=>r.e("155").then(r.bind(r,654))},{path:"inactivated",lazy:()=>r.e("427").then(r.bind(r,1950))},{path:"register",lazy:()=>Promise.all([r.e("725"),r.e("2")]).then(r.bind(r,4449))},{path:"login",lazy:()=>r.e("836").then(r.bind(r,9343))},{path:"apps",loader:R,element:(0,a.jsx)(n.A,{message:"请选择应用",showIcon:!0})},{path:"apps/:id",loader:R,lazy:()=>Promise.all([r.e("375"),r.e("725"),r.e("755"),r.e("993")]).then(r.bind(r,9680))},{path:"user",loader:R,lazy:()=>Promise.all([r.e("375"),r.e("181"),r.e("460")]).then(r.bind(r,6871))}]}])},8388:function(e,t,r){r.d(t,{F:()=>l});var a=r(4526),n=r(9913);let l={login:e=>(0,n.Ay)("post","/user/login",e),activate:e=>(0,n.Ay)("post","/user/activate",e),me:()=>(0,n.Ay)("get","/user/me"),sendEmail:e=>(0,n.Ay)("post","/user/activate/sendmail",e),resetpwdSendMail:e=>(0,n.Ay)("post","/user/resetpwd/sendmail",e),register:e=>(0,n.Ay)("post","/user/register",e),resetPwd:e=>(0,n.Ay)("post","/user/resetpwd/reset",e),appList:()=>(0,n.Ay)("get","/app/list"),getApp:e=>(0,n.Ay)("get",`/app/${e}`),deleteApp:e=>(0,n.Ay)("delete",`/app/${e}`).then(()=>{a.q.setQueryData(["appList"],t=>{let{data:r}=t;return{data:null==r?void 0:r.filter(t=>t.id!==e)}})}),createApp:e=>(0,n.Ay)("post","/app/create",e).then(t=>{if(!t)throw Error("Failed to create app");let{id:r}=t;a.q.setQueryData(["appList"],t=>{let{data:a}=t;return{data:[...a||[],{...e,id:r}]}})}),updateApp:(e,t)=>(0,n.Ay)("put",`/app/${e}`,t).then(()=>{a.q.setQueryData(["app",e],e=>({...e,...t})),a.q.setQueryData(["appList"],r=>{let{data:a}=r;return{data:null==a?void 0:a.map(r=>r.id===e?{...r,...t}:r)}})}),getPackages:e=>(0,n.Ay)("get",`/app/${e}/package/list?limit=1000`),updatePackage:e=>{let{appId:t,packageId:r,params:l}=e;return(0,n.Ay)("put",`/app/${t}/package/${r}`,l).then(()=>{a.q.setQueryData(["packages",t],e=>{let{data:t}=e;return{data:null==t?void 0:t.map(e=>e.id===r?{...e,...l}:e)}}),void 0!==l.versionId&&a.q.invalidateQueries({queryKey:["versions",t]})})},bindVersion:e=>{let{appId:t,packageId:r,versionId:l,expVersionId:i}=e;return(0,n.Ay)("put",`/app/${t}/package/${r}/bind`,{versionId:l,expVersionId:i}).then(()=>{(void 0!==l||void 0!==i)&&(a.q.invalidateQueries({queryKey:["versions",t]}),a.q.invalidateQueries({queryKey:["packages",t]}))})},deletePackage:e=>{let{appId:t,packageId:r}=e;return(0,n.Ay)("delete",`/app/${t}/package/${r}`).then(()=>{a.q.setQueryData(["packages",t],e=>{let{data:t}=e;return{data:null==t?void 0:t.filter(e=>e.id!==r)}})})},getVersions:e=>{let{appId:t,offset:r=0,limit:a=1e3}=e;return(0,n.Ay)("get",`/app/${t}/version/list?offset=${r}&limit=${a}`)},updateVersion:e=>{let{versionId:t,appId:r,params:l}=e;return(0,n.Ay)("put",`/app/${r}/version/${t}`,l).then(()=>{a.q.setQueriesData({queryKey:["versions",r]},e=>{var r;return e?{...e,data:null==(r=e.data)?void 0:r.map(e=>e.id===t?{...e,...l}:e)}:void 0})})},deleteVersion:e=>{let{appId:t,versionId:r}=e;return(0,n.Ay)("delete",`/app/${t}/version/${r}`).then(()=>{a.q.setQueriesData({queryKey:["versions",t]},e=>{var t;return e?{...e,data:null==(t=e.data)?void 0:t.filter(e=>e.id!==r)}:void 0})})},createOrder:e=>(0,n.Ay)("post","/orders",e)}},1016:function(e,t,r){r.d(t,{Kg:()=>c,iD:()=>u,qo:()=>d,ri:()=>p});var a=r(9312),n=r(964),l=r(3909),i=r(8388),s=r(9913);let o="",c=e=>{o=e},d=()=>o;async function u(e,t){o=e;let r={email:e,pwd:await (0,n.Fx)(t)};try{let e=await i.F.login(r);if(null==e?void 0:e.token){(0,s.WG)(e.token),a.Ay.success("登录成功");let t=new URLSearchParams(window.location.search).get("loginFrom");l.QB.navigate(t||l.DQ.user)}}catch(e){e.message.startsWith("423:")?l.QB.navigate(l.DQ.inactivated):a.Ay.error(e.message)}}function p(){l.QB.state.location.pathname!==l.DQ.login&&((0,s.WG)(""),l.QB.navigate(l.DQ.login),window.location.reload())}},9913:function(e,t,r){r.d(t,{Ay:()=>u,WG:()=>s,gf:()=>o});var a=r(9312),n=r(4869),l=r(1016);let i=localStorage.getItem("token"),s=e=>{i=e,localStorage.setItem("token",e)},o=()=>i,c=["https://update.react-native.cn/api","https://update.reactnative.cn/api"],d=(async()=>(0,n.Tu)(c.map(e=>`${e}/status`)).then(e=>{let t=c[0];return e&&(t=e.replace("/status","")),console.log("baseUrl",t),t}))();async function u(e,t,r){let n={},s={method:e,headers:n},o=await d,c=`${o}${t}`;i&&(n["x-accesstoken"]=i),r&&("get"===e?c+=`?${new URLSearchParams(r).toString()}`:(n["content-type"]="application/json",s.body=JSON.stringify(r)));try{let e=await fetch(c,s);if(401===e.status)return void(0,l.ri)();let t=await e.json();if(200===e.status)return t;throw a.Ay.error(t.message),Error(`${e.status}: ${t.message}`)}catch(e){if(e.message.includes("Unauthorized"))(0,l.ri)();else throw a.Ay.error(e.message),e}}},4869:function(e,t,r){function a(e){return/(?!^[0-9]+$)(?!^[a-z]+$)(?!^[^A-Z]+$)^.{6,16}$/.test(e)}function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}r.d(t,{Tu:()=>i,YY:()=>a,cn:()=>n});let l=async e=>{let t=!1;return Promise.race([fetch(e,{method:"HEAD"}).then(r=>{let{status:a,statusText:n}=r;if(t=!0,200===a)return console.log("ping success",e),e;throw console.log("ping failed",e,a,n),Error("ping failed")}).catch(r=>{throw t=!0,console.log("ping error",e,r),Error("ping error")}),new Promise((r,a)=>setTimeout(()=>{a(Error("ping timeout")),t||console.log("ping timeout",e)},2e3))])},i=async e=>{var t;if(!(null==e?void 0:e.length))return null;let r=await (t=e.map(l),new Promise((e,r)=>{let a=0;for(let n of t)Promise.resolve(n).then(e).catch(()=>{++a===t.length&&r(Error("All promises were rejected"))})}));return r||(console.log("all ping failed, use first url:",e[0]),e[0])}},5625:function(e,t,r){r.d(t,{Py:()=>d,jh:()=>m,nm:()=>p,vu:()=>u,xi:()=>h});var a=r(4038),n=r(8388),l=r(9913),i=r(4353),s=r.n(i),o=r(6279),c=r.n(o);r(6033),s().locale("zh-cn"),s().extend(c());let d=()=>{let{data:e}=(0,a.I)({queryKey:["userInfo"],queryFn:n.F.me,enabled:()=>!!(0,l.gf)()}),t=s()(null==e?void 0:e.tierExpiresAt),r=(null==e?void 0:e.tierExpiresAt)?t.format("YYYY年MM月DD日"):"无",i=(null==e?void 0:e.tierExpiresAt)?t.diff(s()(),"day"):null,o=null!==i&&i<=90,c=o?`(剩余 ${i} 天)`:"";return{user:(0,l.gf)()?e:null,displayExpireDay:r,displayRemainingDays:c,isExpiringSoon:o}},u=()=>{let{data:e}=(0,a.I)({queryKey:["appList"],queryFn:n.F.appList});return{apps:null==e?void 0:e.data}},p=e=>{let{data:t}=(0,a.I)({queryKey:["app",e],queryFn:()=>n.F.getApp(e)});return{app:t}},h=e=>{var t;let{data:r,isLoading:l}=(0,a.I)({queryKey:["packages",e],queryFn:()=>n.F.getPackages(e)});return{packages:null==r?void 0:r.data,unusedPackages:null==r||null==(t=r.data)?void 0:t.filter(e=>null===e.version),isLoading:l}},m=e=>{let{appId:t,offset:r=0,limit:l=10}=e,{data:i,isLoading:s}=(0,a.I)({queryKey:["versions",t],staleTime:3e3,queryFn:()=>n.F.getVersions({appId:t,offset:0,limit:1e3})}),o=(null==i?void 0:i.data)??[],c=(null==i?void 0:i.count)??0;return{versions:o.slice(r,r+l),count:c,isLoading:s,allVersions:o}}},4526:function(e,t,r){r.d(t,{q:()=>a});let a=new(r(907)).E({defaultOptions:{queries:{staleTime:5e3,retry:!1}}})}},c={};function d(e){var t=c[e];if(void 0!==t)return t.exports;var r=c[e]={exports:{}};return o[e].call(r.exports,r,r.exports,d),r.exports}if(d.m=o,d.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return d.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,d.t=function(r,a){if(1&a&&(r=this(r)),8&a||"object"==typeof r&&r&&(4&a&&r.__esModule||16&a&&"function"==typeof r.then))return r;var n=Object.create(null);d.r(n);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>{l[e]=()=>r[e]});return l.default=()=>r,d.d(n,l),n},d.d=(e,t)=>{for(var r in t)d.o(t,r)&&!d.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},d.f={},d.e=e=>Promise.all(Object.keys(d.f).reduce((t,r)=>(d.f[r](e,t),t),[])),d.u=e=>"static/js/async/"+e+"."+({155:"35f7a856",181:"30d2f32d",2:"baf7b8ed",375:"a2c3d2d4",392:"b299f328",427:"0e16e818",460:"72eae741",653:"eec41071",657:"7e84132d",678:"2f973550",725:"f71c85de",755:"cc98e8f9",836:"7a6f88e2",993:"4cad9922"})[e]+".js",d.miniCssF=e=>"static/css/async/"+e+".f4d66f1c.css",d.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},a="pushy-admin:",d.l=function(e,t,n,l){if(r[e])return void r[e].push(t);if(void 0!==n)for(var i,s,o=document.getElementsByTagName("script"),c=0;c<o.length;c++){var u=o[c];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==a+n){i=u;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,d.nc&&i.setAttribute("nonce",d.nc),i.setAttribute("data-webpack",a+n),i.src=e),r[e]=[t];var p=function(t,a){i.onerror=i.onload=null,clearTimeout(h);var n=r[e];if(delete r[e],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach(function(e){return e(a)}),t)return t(a)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),s&&document.head.appendChild(i)},d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n=[],d.O=(e,t,r,a)=>{if(t){a=a||0;for(var l=n.length;l>0&&n[l-1][2]>a;l--)n[l]=n[l-1];n[l]=[t,r,a];return}for(var i=1/0,l=0;l<n.length;l++){for(var[t,r,a]=n[l],s=!0,o=0;o<t.length;o++)(!1&a||i>=a)&&Object.keys(d.O).every(e=>d.O[e](t[o]))?t.splice(o--,1):(s=!1,a<i&&(i=a));if(s){n.splice(l--,1);var c=r();void 0!==c&&(e=c)}}return e},d.p="/","undefined"!=typeof document){var u=function(e,t,r,a,n){var l=document.createElement("link");return l.rel="stylesheet",l.type="text/css",d.nc&&(l.nonce=d.nc),l.onerror=l.onload=function(r){if(l.onerror=l.onload=null,"load"===r.type)a();else{var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.href||t,o=Error("Loading CSS chunk "+e+" failed.\\n("+s+")");o.code="CSS_CHUNK_LOAD_FAILED",o.type=i,o.request=s,l.parentNode&&l.parentNode.removeChild(l),n(o)}},l.href=t,r?r.parentNode.insertBefore(l,r.nextSibling):document.head.appendChild(l),l},p=function(e,t){for(var r=document.getElementsByTagName("link"),a=0;a<r.length;a++){var n=r[a],l=n.getAttribute("data-href")||n.getAttribute("href");if(l&&(l=l.split("?")[0]),"stylesheet"===n.rel&&(l===e||l===t))return n}for(var i=document.getElementsByTagName("style"),a=0;a<i.length;a++){var n=i[a],l=n.getAttribute("data-href");if(l===e||l===t)return n}},h={410:0};d.f.miniCss=function(e,t){if(h[e])t.push(h[e]);else 0!==h[e]&&({993:1})[e]&&t.push(h[e]=new Promise(function(t,r){var a=d.miniCssF(e),n=d.p+a;if(p(a,n))return t();u(e,n,null,t,r)}).then(function(){h[e]=0},function(t){throw delete h[e],t}))}}l={410:0},d.f.j=function(e,t){var r=d.o(l,e)?l[e]:void 0;if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((t,a)=>r=l[e]=[t,a]);t.push(r[2]=a);var n=d.p+d.u(e),i=Error();d.l(n,function(t){if(d.o(l,e)&&(0!==(r=l[e])&&(l[e]=void 0),r)){var a=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;i.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",i.name="ChunkLoadError",i.type=a,i.request=n,r[1](i)}},"chunk-"+e,e)}},d.O.j=e=>0===l[e],i=(e,t)=>{var r,a,[n,i,s]=t,o=0;if(n.some(e=>0!==l[e])){for(r in i)d.o(i,r)&&(d.m[r]=i[r]);if(s)var c=s(d)}for(e&&e(t);o<n.length;o++)a=n[o],d.o(l,a)&&l[a]&&l[a][0](),l[a]=0;return d.O(c)},(s=self.webpackChunkpushy_admin=self.webpackChunkpushy_admin||[]).forEach(i.bind(null,0)),s.push=i.bind(null,s.push.bind(s));var m=d.O(void 0,["783","535","582"],function(){return d(9620)});m=d.O(m)})();