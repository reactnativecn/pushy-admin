(()=>{"use strict";var e,t,a,n,r,l,i,s,o={8496(e,t,a){a.d(t,{A:()=>o});var n=a(4848),r=a(4991),l=a(5423),i=a(9694),s=a(2666);function o(e){let{platform:t,className:a}=e;return t?"android"===t?(0,n.jsx)(r.A,{className:(0,s.cn)("text-[#3ddc84]!",a)}):"ios"===t?(0,n.jsx)(l.A,{className:(0,s.cn)("text-[#a6b1b7]!",a)}):(0,n.jsx)(i.A,{className:(0,s.cn)("text-[#a6b1b7]!",a)}):null}},3797(e,t,a){a.d(t,{c:()=>r,g:()=>n});let n="https://pushy.reactnative.cn/pricing.html",r="https://pushy.reactnative.cn/docs/bestpractice#%E6%B5%8B%E8%AF%95%E4%B8%8E%E5%9B%9E%E6%BB%9A"},8831(e,t,a){a.d(t,{a:()=>n});let n={free:{title:"免费版",app:3,package:30,packageSize:"30m",bundle:30,bundleSize:"3m",pv:1e3},standard:{title:"标准版",app:5,package:50,packageSize:"150m",bundle:50,bundleSize:"15m",pv:1e4},premium:{title:"高级版",app:10,package:60,packageSize:"500m",bundle:60,bundleSize:"50m",pv:1e5},pro:{title:"专业版",app:50,package:100,packageSize:"2000m",bundle:100,bundleSize:"200m",pv:1e6},vip1:{title:"大客户VIP1",app:50,package:100,packageSize:"2000m",bundle:100,bundleSize:"200m",pv:1e7},vip2:{title:"大客户VIP2",app:50,package:100,packageSize:"2000m",bundle:100,bundleSize:"200m",pv:5e7},vip3:{title:"大客户VIP3",app:50,package:100,packageSize:"2000m",bundle:100,bundleSize:"200m",pv:1e8}}},487(e,t,a){var n=a(4848),r=a(8293),l=a(2187),i=a(5338),s=a(2600),o=a(7665),d=a(1252),c=a(3423);let p=document.getElementById("main");p&&(0,i.createRoot)(p).render((0,n.jsx)(r.Ay,{locale:l.default,children:(0,n.jsx)(o.Ht,{client:c.q,children:(0,n.jsx)(s.pg,{router:d.QB})})}))},1252(e,t,a){a.d(t,{QB:()=>er,DQ:()=>ea});var n=a(4848),r=a(1559),l=a(1344),i=a(8940),s=a(400),o=a(6540),d=a(7186),c=a(7423),p=a(8866),u=a(6164),m=a(506),h=a(2643),g=a(7212),f=a(372),y=a(1215),v=a(6043),x=a(6511),b=a(6474),j=a(9745),A=a(1568);let k=e=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 450 110",...e,children:[(0,n.jsx)("defs",{children:(0,n.jsx)("path",{id:"logo-h_svg__a",d:"M0 .19h251.999v38.75H0z"})}),(0,n.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,n.jsx)("path",{fill:"#4483ED",d:"M145.25 48.773q0 16.852-11.954 28.783Q121.33 89.5 104.476 89.5q-9.136 0-17.037-3.742-7.888-3.731-13.503-10.073-4.54 5.118-10.187 8.328v-35.24q0-16.852 11.92-28.818Q87.59 8 104.477 8q16.852 0 28.819 11.955Q145.25 31.92 145.25 48.773m-61.115 0q0 8.443 5.95 14.392 5.947 5.948 14.392 5.948 8.408 0 14.404-5.948 5.982-5.948 5.982-14.392 0-8.408-5.982-14.404-5.996-5.983-14.404-5.983-8.445 0-14.393 5.983-5.949 5.996-5.949 14.404"}),(0,n.jsx)("path",{fill:"#4483ED",d:"M19.675 25.524H16.71q-1.347 0-2.291-.943-.943-.943-.943-2.291t.943-2.291a3.12 3.12 0 0 1 2.291-.943h2.965q2.425-.105 4.177-1.916 1.752-1.805 1.752-4.283t-1.752-4.282Q22.1 6.764 19.675 6.659H16.71a3.12 3.12 0 0 1-2.291-.944q-.943-.943-.943-2.29 0-1.348.943-2.291A3.12 3.12 0 0 1 16.71.19h2.965q5.12.105 8.759 3.803 3.639 3.692 3.639 8.864 0 5.226-3.639 8.894t-8.759 3.773M0 35.766V3.425q0-1.348.943-2.291A3.12 3.12 0 0 1 3.234.19q1.348 0 2.291.944.943.943.943 2.291v32.341q0 1.347-.943 2.291A3.12 3.12 0 0 1 3.234 39a3.12 3.12 0 0 1-2.291-.943Q0 37.113 0 35.766M57.407 3.425v17.518q0 3.287 1.647 6.011a11.55 11.55 0 0 0 4.387 4.23q1.513.704 2.052 2.021.538 1.318-.105 2.456-.599 1.235-1.812 1.669-1.212.427-2.448-.112-4.582-2.208-7.389-6.603-2.8-4.387-2.8-9.672V3.425q0-1.348.943-2.291A3.12 3.12 0 0 1 54.173.19a3.12 3.12 0 0 1 2.291.944q.943.943.943 2.291m23.179 17.518V3.425q0-1.348.943-2.291A3.12 3.12 0 0 1 83.82.19a3.12 3.12 0 0 1 2.291.944q.943.943.943 2.291v17.518q0 5.285-2.777 9.65-2.778 4.363-7.36 6.573-1.347.591-2.53.164-1.184-.434-1.782-1.669-.592-1.243-.052-2.538t1.886-1.939q2.808-1.4 4.477-4.147 1.67-2.755 1.67-6.094m45.279 13.962q0-1.19.756-2.074a3.2 3.2 0 0 1 1.886-1.108q3.826-1.13 3.826-4.043 0-4.851-9.972-4.851-7.494 0-11.964-2.86-4.477-2.852-4.477-8.459 0-3.609 2.239-6.229 2.239-2.613 6.169-3.96.861-.27 1.295-.27a3.12 3.12 0 0 1 2.291.944q.943.942.943 2.29 0 2.156-2.695 3.182-3.773 1.243-3.773 4.043 0 4.851 9.972 4.851 7.494 0 11.964 2.86 4.476 2.852 4.477 8.459 0 3.669-2.239 6.282t-6.221 3.96q-.165.052-1.243.217-1.347 0-2.291-.943-.943-.944-.943-2.291m-15.58-4.425a35.5 35.5 0 0 0 5.555 1.617q1.295.27 2.156 1.161.861.89.861 2.074 0 1.348-.943 2.29a3.12 3.12 0 0 1-2.291.944l-.809-.105q-4.147-.756-6.633-1.834-1.235-.427-1.856-1.7-.622-1.265-.135-2.5.539-1.348 1.699-1.864 1.161-.51 2.396-.083m15.58-26.352q0-1.347.943-2.291a3.12 3.12 0 0 1 2.291-.943q.053 0 1.026.157 2.209.487 4.798 1.565 1.348.591 1.91 1.722.568 1.138.082 2.373-1.13 2.86-4.043 1.999-1.834-.756-4.417-1.408a3.34 3.34 0 0 1-1.864-1.152 3.1 3.1 0 0 1-.726-2.022m61.989 31.638V22.829h-12.937q-1.347 0-2.291-.943-.943-.943-.943-2.291t.943-2.291 2.291-.943h12.937V3.425q0-1.348.943-2.291a3.12 3.12 0 0 1 2.291-.944 3.12 3.12 0 0 1 2.291.944q.943.943.943 2.291v32.341q0 1.347-.943 2.291a3.12 3.12 0 0 1-2.291.943 3.12 3.12 0 0 1-2.291-.943q-.943-.944-.943-2.291m-29.647 0V3.425q0-1.348.943-2.291a3.12 3.12 0 0 1 2.291-.944 3.12 3.12 0 0 1 2.291.944q.943.943.943 2.291v32.341q0 1.347-.943 2.291a3.12 3.12 0 0 1-2.291.943 3.12 3.12 0 0 1-2.291-.943q-.943-.944-.943-2.291m71.152 0V19.595q0-1.348 1.079-2.425l16.006-16.006q.973-.974 2.321-.974a3.12 3.12 0 0 1 2.291.944q.943.943.943 2.291t-.973 2.32l-15.198 15.198v14.823q0 1.347-.943 2.291a3.12 3.12 0 0 1-2.291.943 3.12 3.12 0 0 1-2.291-.943 3.12 3.12 0 0 1-.944-2.291M213.188 3.425q0-1.348.944-2.291a3.12 3.12 0 0 1 2.291-.944q1.242 0 2.261.914l6.528 6.528q.913 1.018.913 2.261 0 1.347-.943 2.291a3.12 3.12 0 0 1-2.291.943q-1.4 0-2.321-.913l-6.468-6.469q-.914-.92-.914-2.32",mask:"url(#logo-h_svg__mask-2)",transform:"matrix(.75 0 0 .75 175 38)"})]})]});var q=a(6287);let w=()=>(0,n.jsxs)(v.A.Footer,{className:"text-center",children:[(0,n.jsxs)(q.A.Paragraph,{type:"secondary",children:["React Native 中文网 \xa9 ",new Date().getFullYear()," 武汉青罗网络科技有限公司"]}),(0,n.jsxs)(q.A.Paragraph,{className:"flex flex-wrap items-center justify-center gap-2",children:[(0,n.jsx)("a",{href:"http://beian.miit.gov.cn/",children:"鄂ICP备20002031号-3"}),(0,n.jsx)("img",{className:"h-6 my-0 mx-1",src:"https://img.alicdn.com/tfs/TB1..50QpXXXXX7XpXXXXXXXXXX-40-40.png",alt:"鄂公网安备 42011202001821号"}),(0,n.jsx)("a",{href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=42011202001821",children:"鄂公网安备 42011202001821号"})]})]});var N=a(4123),$=a(3078),S=a(1161),P=a(9776),z=a(8623),E=a(591),C=a(2387),F=a(6380),I=a(8361),_=a(8448),O=a(933),Q=a(4840),D=a(3240),L=a(6845),B=a(4850),T=a(3797),K=a(8831),M=a(391),V=a(8496);function X(){let e="",t="android";C.A.confirm({icon:null,closable:!0,maskClosable:!0,content:(0,n.jsxs)(F.A,{initialValues:{platform:t},children:[(0,n.jsx)("br",{}),(0,n.jsx)(F.A.Item,{label:"应用名称",name:"name",children:(0,n.jsx)(I.A,{placeholder:"请输入应用名称",onChange:t=>{let{target:a}=t;return e=a.value}})}),(0,n.jsx)(F.A.Item,{label:"选择平台",name:"platform",children:(0,n.jsx)(_.A,{onSelect:e=>{t=e},options:[{value:"android",label:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(V.A,{platform:"android",className:"mr-2"})," Android"]})},{value:"ios",label:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(V.A,{platform:"ios",className:"mr-2"})," iOS"]})},{value:"harmony",label:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(V.A,{platform:"harmony",className:"mr-[10px]"}),"HarmonyOS"]})}]})})]}),onOk:()=>e?M.F.createApp({name:e,platform:t}).catch(e=>{y.Ay.error(e.message)}):(y.Ay.warning("请输入应用名称"),!1)})}let U={boxShadow:"2px 0 8px 0 rgb(29 35 41 / 5%)",zIndex:2},R=()=>{var e;let{pathname:t}=(0,l.zy)(),a=null==t||null==(e=t.replace(/^\//,""))?void 0:e.split("/"),n=a;return(null==n?void 0:n.length)===0&&(n="/"===t?["/user"]:a),n};function H(){let{user:e}=(0,A.Py)();if(!e)return null;let t=R();return(0,n.jsx)(v.A.Sider,{className:"[&>.ant-layout-sider-children]:flex [&>.ant-layout-sider-children]:flex-col!",width:240,theme:"light",style:U,children:(0,n.jsx)(G,{selectedKeys:t})})}let Y=e=>{let{open:t,onClose:a}=e,{user:r}=(0,A.Py)(),l=R();return r?(0,n.jsx)(O.A,{open:t,placement:"left",width:260,onClose:a,styles:{body:{padding:0,display:"flex",flexDirection:"column",height:"100%"}},children:(0,n.jsx)(G,{selectedKeys:l,onNavigate:a})}):null},G=e=>{let{selectedKeys:t,onNavigate:a}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v.A.Header,{className:"flex justify-center items-center bg-transparent! px-0!",children:(0,n.jsx)(k,{className:"h-7 w-auto"})}),(0,n.jsx)(W,{selectedKeys:t,onNavigate:a})]})},W=e=>{var t;let{selectedKeys:a,onNavigate:r}=e,{user:i,displayExpireDay:s,displayRemainingDays:o}=(0,A.Py)(),{apps:d}=(0,A.vu)(),c=i.quota||K.a[null==i?void 0:i.tier],p=null==c?void 0:c.pv,m=null==i?void 0:i.checkQuota,h=p&&m?m/p*100:void 0;return(0,n.jsxs)("div",{className:"flex flex-col h-full overflow-hidden",children:[h&&(0,n.jsxs)(Q.A,{title:(0,n.jsxs)("div",{className:"text-center py-1",children:[(0,n.jsx)("span",{className:"",children:null==i?void 0:i.email}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"font-normal",children:"今日剩余总查询热更次数"})]}),size:"small",className:"mb-4! mr-0! md:mr-2!",children:[(0,n.jsx)(D.A,{status:h&&h>40?"normal":"exception",size:["100%",30],percent:h,percentPosition:{type:"inner",align:"center"},format:()=>m?`${m.toLocaleString()} 次`:""}),(0,n.jsxs)("div",{className:"text-xs mt-2 text-center",children:["7日平均剩余次数：",null==i||null==(t=i.last7dAvg)?void 0:t.toLocaleString()," 次"]}),(0,n.jsxs)("div",{className:"text-xs mt-2 text-center",children:[(0,n.jsx)("a",{target:"_blank",href:T.g,rel:"noreferrer",children:null==c?void 0:c.title}),"可用: ",null==p?void 0:p.toLocaleString()," 次/每日"]})," ",(null==i?void 0:i.tier)!=="free"&&(0,n.jsxs)("div",{className:"text-xs mt-2 text-center",children:["有效期至：",s,o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("br",{}),(0,n.jsx)("div",{children:o})]})]})]}),(0,n.jsx)("div",{className:"overflow-y-auto",children:(0,n.jsx)(b.A,{defaultOpenKeys:["apps"],selectedKeys:a,mode:"inline",onClick:()=>null==r?void 0:r(),items:[{key:"user",icon:(0,n.jsx)(u.A,{}),label:(0,n.jsx)(l.N_,{to:ea.user,children:"账户设置"})},{key:"api-tokens",icon:(0,n.jsx)(N.A,{}),label:(0,n.jsx)(l.N_,{to:ea.apiTokens,children:"API Token"})},{key:"audit-logs",icon:(0,n.jsx)($.A,{}),label:(0,n.jsx)(l.N_,{to:ea.auditLogs,children:"操作日志"})},{key:"realtime-metrics",icon:(0,n.jsx)(S.A,{}),label:(0,n.jsx)(l.N_,{to:ea.realtimeMetrics,children:"实时数据"})},{key:"apps",icon:(0,n.jsx)(P.A,{}),label:"应用管理",children:[...(null==d?void 0:d.map((e,t)=>({key:`${e.id}-${t}`,className:"!h-16",label:(0,n.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[(0,n.jsx)("div",{className:"flex flex-col justify-center",children:(0,n.jsx)(V.A,{platform:e.platform,className:"text-xl!"})}),(0,n.jsxs)(l.N_,{to:`/apps/${e.id}`,className:"flex flex-col h-16 justify-center",children:[(0,n.jsxs)("div",{className:"flex flex-row items-center font-bold",children:[e.name,"paused"===e.status&&(0,n.jsx)(L.A,{className:"ml-2",children:"暂停"})]}),e.checkCount&&(0,n.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:(0,n.jsx)(B.A,{mouseEnterDelay:1,title:"今日此应用查询热更的次数",children:(0,n.jsxs)("a",{children:[e.checkCount.toLocaleString()," 次"]})})})]})]})})))||[],{key:"add-app",icon:(0,n.jsx)(z.A,{}),label:"添加应用",onClick:X}]},...i.admin?[{key:"admin",icon:(0,n.jsx)(E.A,{}),label:"管理员",children:[{key:"admin-config",label:(0,n.jsx)(l.N_,{to:ea.adminConfig,children:"动态配置"})},{key:"admin-users",label:(0,n.jsx)(l.N_,{to:ea.adminUsers,children:"用户管理"})},{key:"admin-apps",label:(0,n.jsx)(l.N_,{to:ea.adminApps,children:"应用管理"})},{key:"admin-metrics",label:(0,n.jsx)(l.N_,{to:ea.adminMetrics,children:"全局统计"})}]}]:[]]})})]})},J=e=>{let{children:t,href:a}=e;return(0,n.jsx)("a",{href:a,target:"_blank",rel:"noreferrer",children:t})},Z={background:"#fff",height:48,lineHeight:"46px",boxShadow:"2px 1px 4px rgba(0, 21, 41, 0.08)",zIndex:1},ee={overflow:"auto",position:"relative",display:"flex",flexDirection:"column",paddingBottom:0};var et=a(6126);let ea={user:"/user",apps:"/apps",versions:e=>`/apps/${e}`,resetPassword:e=>`/reset-password/${e}`,activate:"/activate",inactivated:"/inactivated",login:"/login",welcome:"/welcome",register:"/register",auditLogs:"/audit-logs",realtimeMetrics:"/realtime-metrics",adminConfig:"/admin-config",adminUsers:"/admin-users",adminApps:"/admin-apps",adminMetrics:"/admin-metrics",apiTokens:"/api-tokens"},en=e=>{let{request:t}=e;if(!(0,et.gf)()){let{pathname:e,search:a}=new URL(t.url);return e===ea.login?null:"/"===e?(0,l.V2)(ea.login):(0,l.V2)(`${ea.login}?loginFrom=${encodeURIComponent(e+a)}`)}return null},er=(0,l.Ge)([{path:"/",element:(0,n.jsx)(()=>{let{user:e}=(0,A.Py)(),t=!f.Ay.useBreakpoint().md,[a,r]=(0,o.useState)(!1);(0,o.useEffect)(()=>{!t&&a&&r(!1)},[t,a]);let i=[{key:"issues",icon:(0,n.jsx)(d.A,{}),label:(0,n.jsx)(J,{href:"https://github.com/reactnativecn/react-native-pushy/issues",children:"讨论"})},{key:"document",icon:(0,n.jsx)(c.A,{}),label:(0,n.jsx)(J,{href:"https://pushy.reactnative.cn/docs/getting-started.html",children:"文档"})},{key:"about",icon:(0,n.jsx)(p.A,{}),label:(0,n.jsx)(J,{href:"https://reactnative.cn/about.html",children:"关于我们"})},...e?[{key:"user",icon:(0,n.jsx)(u.A,{}),label:e.name,children:[{key:"logout",icon:(0,n.jsx)(m.A,{}),label:"退出登录",onClick:()=>{(0,j.ri)(),y.Ay.info("您已退出登录")}}]}]:[]];return(0,n.jsxs)(v.A,{children:[!t&&(0,n.jsx)(H,{}),t&&(0,n.jsx)(Y,{open:a,onClose:()=>r(!1)}),(0,n.jsxs)(v.A,{children:[(0,n.jsx)(v.A.Header,{style:{...Z,paddingInline:t?12:24},children:(0,n.jsxs)("div",{className:"flex w-full items-center justify-between gap-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[e&&t&&(0,n.jsx)(s.Ay,{type:"text",icon:(0,n.jsx)(h.A,{}),onClick:()=>r(!0)}),t&&(0,n.jsx)(k,{className:"h-6 w-auto max-w-[140px]"})]}),(0,n.jsx)("div",{className:"flex items-center",children:t?(0,n.jsx)(x.A,{menu:{items:i,selectable:!1},placement:"bottomRight",trigger:["click"],children:(0,n.jsx)(s.Ay,{type:"text",icon:(0,n.jsx)(g.A,{})})}):(0,n.jsx)(b.A,{mode:"horizontal",selectable:!1,items:i})})]})}),(0,n.jsxs)(v.A.Content,{id:"main-body",style:ee,children:[(0,n.jsx)("div",{className:"h-full",children:(0,n.jsx)(l.sv,{})}),(0,n.jsx)(w,{})]})]})]})},{}),errorElement:(0,n.jsx)(function(){let e=(0,l.r5)(),t=(0,l.Zp)(),a=(null==e?void 0:e.message)||"",r=a&&(a.includes("Loading CSS chunk")||a.includes("Loading chunk")||a.includes("ChunkLoadError"));return(0,o.useEffect)(()=>{r&&window.location.reload()},[r]),(0,n.jsx)(i.Ay,{status:"500",title:"页面出错了",subTitle:a||"发生了未知错误",extra:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.Ay,{type:"primary",onClick:()=>{t(-1)},children:"重试"}),(0,n.jsx)(s.Ay,{onClick:()=>{t("/")},children:"返回首页"})]})})},{}),children:[{path:"",element:(0,n.jsx)(l.C5,{to:ea.user})},{path:"welcome",lazy:()=>a.e("624").then(a.bind(a,6403))},{path:"reset-password/:step",lazy:()=>Promise.all([a.e("873"),a.e("393")]).then(a.bind(a,3400))},{path:"activate",lazy:()=>a.e("765").then(a.bind(a,7652))},{path:"inactivated",lazy:()=>a.e("46").then(a.bind(a,2029))},{path:"register",lazy:()=>Promise.all([a.e("676"),a.e("189")]).then(a.bind(a,6620))},{path:"login",lazy:()=>a.e("665").then(a.bind(a,4448))},{path:"apps",loader:en,element:(0,n.jsx)(r.A,{message:"请选择应用",showIcon:!0})},{path:"apps/:id",loader:en,lazy:()=>Promise.all([a.e("17"),a.e("398"),a.e("281"),a.e("772"),a.e("134"),a.e("311")]).then(a.bind(a,5457))},{path:"user",loader:en,lazy:()=>Promise.all([a.e("17"),a.e("650"),a.e("511")]).then(a.bind(a,8074))},{path:"audit-logs",loader:en,lazy:()=>Promise.all([a.e("17"),a.e("398"),a.e("281"),a.e("876"),a.e("265"),a.e("41")]).then(a.bind(a,6304))},{path:"realtime-metrics",loader:en,lazy:()=>Promise.all([a.e("17"),a.e("398"),a.e("876"),a.e("426"),a.e("633")]).then(a.bind(a,9160))},{path:"admin-config",loader:en,lazy:()=>Promise.all([a.e("17"),a.e("398"),a.e("281"),a.e("772"),a.e("2"),a.e("367")]).then(a.bind(a,8298))},{path:"admin-users",loader:en,lazy:()=>Promise.all([a.e("17"),a.e("398"),a.e("281"),a.e("876"),a.e("772"),a.e("274")]).then(a.bind(a,6113))},{path:"admin-apps",loader:en,lazy:()=>Promise.all([a.e("17"),a.e("398"),a.e("281"),a.e("150")]).then(a.bind(a,6413))},{path:"admin-metrics",loader:en,lazy:()=>Promise.all([a.e("17"),a.e("398"),a.e("876"),a.e("426"),a.e("60")]).then(a.bind(a,9647))},{path:"api-tokens",loader:en,lazy:()=>Promise.all([a.e("17"),a.e("398"),a.e("281"),a.e("2"),a.e("897")]).then(a.bind(a,9120))}]}])},391(e,t,a){a.d(t,{F:()=>l});var n=a(3423),r=a(6126);let l={login:e=>(0,r.Ay)("post","/user/login",e),activate:e=>(0,r.Ay)("post","/user/activate",e),me:()=>(0,r.Ay)("get","/user/me"),sendEmail:e=>(0,r.Ay)("post","/user/activate/sendmail",e),resetpwdSendMail:e=>(0,r.Ay)("post","/user/resetpwd/sendmail",e),register:e=>(0,r.Ay)("post","/user/register",e),resetPwd:e=>(0,r.Ay)("post","/user/resetpwd/reset",e),appList:()=>(0,r.Ay)("get","/app/list"),getApp:e=>(0,r.Ay)("get",`/app/${e}`),deleteApp:e=>(0,r.Ay)("delete",`/app/${e}`).then(()=>{n.q.setQueryData(["appList"],t=>{let{data:a}=t;return{data:null==a?void 0:a.filter(t=>t.id!==e)}})}),createApp:e=>(0,r.Ay)("post","/app/create",e).then(t=>{if(!t)throw Error("Failed to create app");let{id:a}=t;n.q.setQueryData(["appList"],t=>{let{data:n}=t;return{data:[...n||[],{...e,id:a}]}})}),updateApp:(e,t)=>(0,r.Ay)("put",`/app/${e}`,t).then(()=>{n.q.setQueryData(["app",e],e=>({...e,...t})),n.q.setQueryData(["appList"],a=>{let{data:n}=a;return{data:null==n?void 0:n.map(a=>a.id===e?{...a,...t}:a)}})}),getPackages:e=>(0,r.Ay)("get",`/app/${e}/package/list?limit=1000`),updatePackage:e=>{let{appId:t,packageId:a,params:l}=e;return(0,r.Ay)("put",`/app/${t}/package/${a}`,l).then(()=>{n.q.setQueryData(["packages",t],e=>{let{data:t}=e;return{data:null==t?void 0:t.map(e=>e.id===a?{...e,...l}:e)}}),void 0!==l.versionId&&n.q.invalidateQueries({queryKey:["versions",t]})})},deletePackage:e=>{let{appId:t,packageId:a}=e;return(0,r.Ay)("delete",`/app/${t}/package/${a}`).then(()=>{n.q.setQueryData(["packages",t],e=>{let{data:t}=e;return{data:null==t?void 0:t.filter(e=>e.id!==a)}})})},getVersions:e=>{let{appId:t,offset:a=0,limit:n=1e3}=e;return(0,r.Ay)("get",`/app/${t}/version/list?offset=${a}&limit=${n}`)},updateVersion:e=>{let{versionId:t,appId:a,params:l}=e;return(0,r.Ay)("put",`/app/${a}/version/${t}`,l).then(()=>{n.q.setQueriesData({queryKey:["versions",a]},e=>{var a;return e?{...e,data:null==(a=e.data)?void 0:a.map(e=>e.id===t?{...e,...l}:e)}:void 0})})},deleteVersion:e=>{let{appId:t,versionId:a}=e;return(0,r.Ay)("delete",`/app/${t}/version/${a}`).then(()=>{n.q.setQueriesData({queryKey:["versions",t]},e=>{var t;return e?{...e,data:null==(t=e.data)?void 0:t.filter(e=>e.id!==a)}:void 0})})},createOrder:e=>(0,r.Ay)("post","/orders",e),getBinding:e=>(0,r.Ay)("get",`/app/${e}/binding`),upsertBinding:e=>{let{appId:t,versionId:a,packageId:l,rollout:i,config:s}=e;return(0,r.Ay)("post",`/app/${t}/binding/`,{versionId:a,rollout:i,config:s,packageId:l}).then(()=>{n.q.invalidateQueries({queryKey:["bindings",t]})})},deleteBinding:e=>{let{appId:t,bindingId:a}=e;return(0,r.Ay)("delete",`/app/${t}/binding/${a}`).then(()=>{n.q.setQueriesData({queryKey:["bindings",t]},e=>{var t;return e?{...e,data:null==(t=e.data)?void 0:t.filter(e=>e.id!==a)}:void 0})})},getAuditLogs:e=>{let{offset:t=0,limit:a=20,startDate:n}=e;return(0,r.Ay)("get",`/audit/logs?offset=${t}&limit=${a}&startDate=${n}`)},getGlobalMetrics:e=>(0,r.Ay)("get",`/metrics/global?start=${encodeURIComponent(e.start)}&end=${encodeURIComponent(e.end)}&mode=${e.mode||"pv"}`),getAppMetrics:e=>(0,r.Ay)("get",`/metrics/app?appKey=${encodeURIComponent(e.appKey)}&start=${encodeURIComponent(e.start)}&end=${encodeURIComponent(e.end)}`),createApiToken:e=>(0,r.Ay)("post","/api-token/create",e),listApiTokens:()=>(0,r.Ay)("get","/api-token/list"),revokeApiToken:e=>(0,r.Ay)("delete",`/api-token/${e}`)}},9745(e,t,a){a.d(t,{Kg:()=>d,iD:()=>p,qo:()=>c,ri:()=>u});var n=a(1215),r=a(964),l=a(1252),i=a(391),s=a(6126);let o="",d=e=>{o=e},c=()=>o;async function p(e,t){o=e;let a={email:e,pwd:await (0,r.Fx)(t)};try{let e=await i.F.login(a);if(null==e?void 0:e.token){(0,s.WG)(e.token),n.Ay.success("登录成功");let t=new URLSearchParams(window.location.search).get("loginFrom");l.QB.navigate(t||l.DQ.user)}}catch(e){e.message.startsWith("423:")?l.QB.navigate(l.DQ.inactivated):n.Ay.error(e.message)}}function u(){l.QB.state.location.pathname!==l.DQ.login&&((0,s.WG)(""),l.QB.navigate(l.DQ.login),window.location.reload())}},6126(e,t,a){a.d(t,{Ay:()=>p,WG:()=>s,gf:()=>o});var n=a(1215),r=a(2666),l=a(9745);let i=localStorage.getItem("token"),s=e=>{i=e,localStorage.setItem("token",e)},o=()=>i,d=["https://update.react-native.cn/api","https://update.reactnative.cn/api"],c=(async()=>(0,r.Tu)(d.map(e=>`${e}/status`)).then(e=>{let t=d[0];return e&&(t=e.replace("/status","")),console.log("baseUrl",t),t}))();async function p(e,t,a){let r={},s={method:e,headers:r},o=await c,d=`${o}${t}`;i&&(r["x-accesstoken"]=i),a&&("get"===e?d+=`?${new URLSearchParams(a).toString()}`:(r["content-type"]="application/json",s.body=JSON.stringify(a)));try{let e=await fetch(d,s);if(401===e.status)return void(0,l.ri)();let t=await e.json();if(200===e.status)return t;throw n.Ay.error(t.message),Error(`${e.status}: ${t.message}`)}catch(e){if(e.message.includes("Unauthorized"))(0,l.ri)();else throw n.Ay.error(`错误：${e.message}`),n.Ay.error("如有使用代理，请关闭代理后重试"),e}}},2666(e,t,a){function n(e){return/(?!^[0-9]+$)(?!^[a-z]+$)(?!^[^A-Z]+$)^.{6,16}$/.test(e)}function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}a.d(t,{Tu:()=>i,YY:()=>n,cn:()=>r});let l=async e=>{let t=!1;return Promise.race([fetch(e,{method:"HEAD"}).then(a=>{let{status:n,statusText:r}=a;if(t=!0,200===n)return console.log("ping success",e),e;throw console.log("ping failed",e,n,r),Error("ping failed")}).catch(a=>{throw t=!0,console.log("ping error",e,a),Error("ping error")}),new Promise((a,n)=>setTimeout(()=>{n(Error("ping timeout")),t||console.log("ping timeout",e)},2e3))])},i=async e=>{var t;if(!(null==e?void 0:e.length))return null;let a=await (t=e.map(l),new Promise((e,a)=>{let n=0;for(let r of t)Promise.resolve(r).then(e).catch(()=>{++n===t.length&&a(Error("All promises were rejected"))})}));return a||(console.log("all ping failed, use first url:",e[0]),e[0])}},1568(e,t,a){a.d(t,{$R:()=>f,Py:()=>p,UJ:()=>y,jh:()=>g,nm:()=>m,vu:()=>u,xi:()=>h});var n=a(2454),r=a(4353),l=a.n(r),i=a(6279),s=a.n(i),o=a(391),d=a(6126);a(6033);var c=a(6540);l().locale("zh-cn"),l().extend(s());let p=()=>{let{data:e}=(0,n.I)({queryKey:["userInfo"],queryFn:o.F.me,enabled:()=>!!(0,d.gf)()}),t=l()(null==e?void 0:e.tierExpiresAt),a=(null==e?void 0:e.tierExpiresAt)?t.format("YYYY年MM月DD日"):"无",r=(null==e?void 0:e.tierExpiresAt)?t.diff(l()(),"day"):null,i=null!==r&&r<=90,s=i?`(剩余 ${r} 天，之后转为免费版)`:"";return(null==e?void 0:e.tier)==="custom"&&(e.quota.title="定制版"),{user:(0,d.gf)()?e:null,displayExpireDay:a,displayRemainingDays:s,isExpiringSoon:i}},u=()=>{let{data:e}=(0,n.I)({queryKey:["appList"],queryFn:o.F.appList});return{apps:null==e?void 0:e.data}},m=e=>{let{data:t}=(0,n.I)({queryKey:["app",e],queryFn:()=>o.F.getApp(e)});return{app:t}},h=e=>{let{data:t,isLoading:a}=(0,n.I)({queryKey:["packages",e],queryFn:()=>o.F.getPackages(e)}),{unusedPackages:r,packageMap:l,packages:i}=(0,c.useMemo)(()=>{let e=(null==t?void 0:t.data)??[],a=[],n=new Map;for(let t of e)null===t.versions&&a.push(t),n.set(t.id,t);return{unusedPackages:a,packageMap:n,packages:e}},[null==t?void 0:t.data]);return{packages:i,unusedPackages:r,packageMap:l,isLoading:a}},g=e=>{let{appId:t,offset:a=0,limit:r=10}=e,{data:l,isLoading:i}=(0,n.I)({queryKey:["versions",t],staleTime:3e3,queryFn:()=>o.F.getVersions({appId:t,offset:0,limit:1e3})}),s=(null==l?void 0:l.data)??[],d=(null==l?void 0:l.count)??0;return{versions:s.slice(a,a+r),count:d,isLoading:i,allVersions:s}},f=e=>{let{data:t,isLoading:a}=(0,n.I)({queryKey:["bindings",e],queryFn:()=>o.F.getBinding(e)});return{bindings:(null==t?void 0:t.data)??[],isLoading:a}},y=e=>{let{offset:t=0,limit:a=20}=e,{data:r,isLoading:i}=(0,n.I)({queryKey:["auditLogs"],staleTime:3e3,queryFn:()=>o.F.getAuditLogs({offset:0,limit:1e3,startDate:l()().subtract(180,"day").toISOString()})}),s=(null==r?void 0:r.data)??[],d=(null==r?void 0:r.count)??0;return{auditLogs:s.slice(t,t+a),count:d,isLoading:i,allAuditLogs:s}}},3423(e,t,a){a.d(t,{q:()=>n});let n=new(a(4059)).E({defaultOptions:{queries:{staleTime:5e3,retry:!1}}})}},d={};function c(e){var t=d[e];if(void 0!==t)return t.exports;var a=d[e]={id:e,loaded:!1,exports:{}};return o[e].call(a.exports,a,a.exports,c),a.loaded=!0,a.exports}if(c.m=o,c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(a,n){if(1&n&&(a=this(a)),8&n||"object"==typeof a&&a&&(4&n&&a.__esModule||16&n&&"function"==typeof a.then))return a;var r=Object.create(null);c.r(r);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&n&&a;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>{l[e]=()=>a[e]});return l.default=()=>a,c.d(r,l),r},c.d=(e,t)=>{for(var a in t)c.o(t,a)&&!c.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce((t,a)=>(c.f[a](e,t),t),[])),c.u=e=>"static/js/async/"+e+"."+({134:"2fa71471",150:"b9575ff7",17:"e3224c52",189:"bdc82546",2:"e6a17d29",265:"ee589817",274:"98d38d35",281:"f1635d9b",311:"68b575b7",313:"68277f2c",367:"77ef1757",393:"27c46f39",398:"9170f215",41:"21536c23",426:"c9d0e4b7",46:"8624f11c",511:"cfc27e69",60:"eb822116",624:"39271197",633:"702d9d0e",650:"26b3372b",665:"bbc9e125",676:"f1412087",765:"f0af175d",772:"7a339a7d",873:"2991a19b",876:"9368e63c",897:"e21ee757"})[e]+".js",c.miniCssF=e=>"static/css/async/"+e+".037c0a5c.css",c.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a={},n="pushy-admin:",c.l=function(e,t,r,l){if(a[e])return void a[e].push(t);if(void 0!==r)for(var i,s,o=document.getElementsByTagName("script"),d=0;d<o.length;d++){var p=o[d];if(p.getAttribute("src")==e||p.getAttribute("data-rspack")==n+r){i=p;break}}i||(s=!0,(i=document.createElement("script")).timeout=120,c.nc&&i.setAttribute("nonce",c.nc),i.setAttribute("data-rspack",n+r),i.src=e),a[e]=[t];var u=function(t,n){i.onerror=i.onload=null,clearTimeout(m);var r=a[e];if(delete a[e],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach(function(e){return e(n)}),t)return t(n)},m=setTimeout(u.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=u.bind(null,i.onerror),i.onload=u.bind(null,i.onload),s&&document.head.appendChild(i)},c.r=e=>{"u">typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r=[],c.O=(e,t,a,n)=>{if(t){n=n||0;for(var l=r.length;l>0&&r[l-1][2]>n;l--)r[l]=r[l-1];r[l]=[t,a,n];return}for(var i=1/0,l=0;l<r.length;l++){for(var[t,a,n]=r[l],s=!0,o=0;o<t.length;o++)(!1&n||i>=n)&&Object.keys(c.O).every(e=>c.O[e](t[o]))?t.splice(o--,1):(s=!1,n<i&&(i=n));if(s){r.splice(l--,1);var d=a();void 0!==d&&(e=d)}}return e},c.p="/","u">typeof document){var p=function(e,t,a,n,r){var l=document.createElement("link");return l.rel="stylesheet",l.type="text/css",c.nc&&(l.nonce=c.nc),l.href=t,l.onerror=l.onload=function(a){if(l.onerror=l.onload=null,"load"===a.type)n();else{var i=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.href||t,o=Error("Loading CSS chunk "+e+" failed.\\n("+s+")");o.code="CSS_CHUNK_LOAD_FAILED",o.type=i,o.request=s,l.parentNode&&l.parentNode.removeChild(l),r(o)}},a?a.parentNode.insertBefore(l,a.nextSibling):document.head.appendChild(l),l},u=function(e,t){for(var a=document.getElementsByTagName("link"),n=0;n<a.length;n++){var r=a[n],l=r.getAttribute("data-href")||r.getAttribute("href");if(l&&(l=l.split("?")[0]),"stylesheet"===r.rel&&(l===e||l===t))return r}for(var i=document.getElementsByTagName("style"),n=0;n<i.length;n++){var r=i[n],l=r.getAttribute("data-href");if(l===e||l===t)return r}},m={410:0};c.f.miniCss=function(e,t){if(m[e])t.push(m[e]);else 0!==m[e]&&({311:1})[e]&&t.push(m[e]=new Promise(function(t,a){var n=c.miniCssF(e),r=c.p+n;if(u(n,r))return t();p(e,r,null,t,a)}).then(function(){m[e]=0},function(t){throw delete m[e],t}))}}l={410:0},c.f.j=function(e,t){var a=c.o(l,e)?l[e]:void 0;if(0!==a)if(a)t.push(a[2]);else{var n=new Promise((t,n)=>a=l[e]=[t,n]);t.push(a[2]=n);var r=c.p+c.u(e),i=Error();c.l(r,function(t){if(c.o(l,e)&&(0!==(a=l[e])&&(l[e]=void 0),a)){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;i.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",i.name="ChunkLoadError",i.type=n,i.request=r,a[1](i)}},"chunk-"+e,e)}},c.O.j=e=>0===l[e],i=(e,t)=>{var a,n,[r,i,s]=t,o=0;if(r.some(e=>0!==l[e])){for(a in i)c.o(i,a)&&(c.m[a]=i[a]);if(s)var d=s(c)}for(e&&e(t);o<r.length;o++)n=r[o],c.o(l,n)&&l[n]&&l[n][0](),l[n]=0;return c.O(d)},(s=self.webpackChunkpushy_admin=self.webpackChunkpushy_admin||[]).forEach(i.bind(null,0)),s.push=i.bind(null,s.push.bind(s));var h=c.O(void 0,["783","535","241"],()=>c(487));h=c.O(h)})();